{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useMemo } from 'react';\nexport const DOTS = '...';\nconst range = (start, end) => {\n  let length = end - start + 1;\n  return Array.from({\n    length\n  }, (_, idx) => idx + start);\n};\nexport const usePagination = ({\n  totalCount,\n  pageSize,\n  siblingCount = 1,\n  currentPage\n}) => {\n  _s();\n  const paginationRange = useMemo(() => {\n    const totalPageCount = Math.ceil(totalCount / pageSize);\n\n    // Pages count is determined as siblingCount + firstPage + lastPage + currentPage + 2*DOTS\n    const totalPageNumbers = siblingCount + 5;\n\n    /*\n      If the number of pages is less than the page numbers we want to show in our\n      paginationComponent, we return the range [1..totalPageCount]\n    */\n    if (totalPageNumbers >= totalPageCount) {\n      return range(1, totalPageCount);\n    }\n    const leftSiblingIndex = Math.max(currentPage - siblingCount, 1);\n    const rightSiblingIndex = Math.min(currentPage + siblingCount, totalPageCount);\n\n    /*\n      We do not want to show dots if there is only one position left \n      after/before the left/right page count as that would lead to a change if our Pagination\n      component size which we do not want\n    */\n    const shouldShowLeftDots = leftSiblingIndex > 2;\n    const shouldShowRightDots = rightSiblingIndex < totalPageCount - 2;\n    const firstPageIndex = 1;\n    const lastPageIndex = totalPageCount;\n    if (!shouldShowLeftDots && shouldShowRightDots) {\n      let leftItemCount = 3 + 2 * siblingCount;\n      let leftRange = range(1, leftItemCount);\n      return [...leftRange, DOTS, totalPageCount];\n    }\n    if (shouldShowLeftDots && !shouldShowRightDots) {\n      let rightItemCount = 3 + 2 * siblingCount;\n      let rightRange = range(totalPageCount - rightItemCount + 1, totalPageCount);\n      return [firstPageIndex, DOTS, ...rightRange];\n    }\n    if (shouldShowLeftDots && shouldShowRightDots) {\n      let middleRange = range(leftSiblingIndex, rightSiblingIndex);\n      return [firstPageIndex, DOTS, ...middleRange, DOTS, lastPageIndex];\n    }\n  }, [totalCount, pageSize, siblingCount, currentPage]);\n  return paginationRange;\n};\n_s(usePagination, \"tLviJI6rwkyze3+kNwkFLwjvB48=\");","map":{"version":3,"names":["useMemo","DOTS","range","start","end","length","Array","from","_","idx","usePagination","totalCount","pageSize","siblingCount","currentPage","_s","paginationRange","totalPageCount","Math","ceil","totalPageNumbers","leftSiblingIndex","max","rightSiblingIndex","min","shouldShowLeftDots","shouldShowRightDots","firstPageIndex","lastPageIndex","leftItemCount","leftRange","rightItemCount","rightRange","middleRange"],"sources":["/data/data/com.termux/files/home/react-serenity/client/src/components/hooks/usePagination.js"],"sourcesContent":["import { useMemo } from 'react';\n\nexport const DOTS = '...';\n\nconst range = (start, end) => {\n  let length = end - start + 1;\n  return Array.from({ length }, (_, idx) => idx + start);\n};\n\nexport const usePagination = ({\n  totalCount,\n  pageSize,\n  siblingCount = 1,\n  currentPage\n}) => {\n  const paginationRange = useMemo(() => {\n    const totalPageCount = Math.ceil(totalCount / pageSize);\n\n    // Pages count is determined as siblingCount + firstPage + lastPage + currentPage + 2*DOTS\n    const totalPageNumbers = siblingCount + 5;\n\n    /*\n      If the number of pages is less than the page numbers we want to show in our\n      paginationComponent, we return the range [1..totalPageCount]\n    */\n    if (totalPageNumbers >= totalPageCount) {\n      return range(1, totalPageCount);\n    }\n\n    const leftSiblingIndex = Math.max(currentPage - siblingCount, 1);\n    const rightSiblingIndex = Math.min(\n      currentPage + siblingCount,\n      totalPageCount\n    );\n\n    /*\n      We do not want to show dots if there is only one position left \n      after/before the left/right page count as that would lead to a change if our Pagination\n      component size which we do not want\n    */\n    const shouldShowLeftDots = leftSiblingIndex > 2;\n    const shouldShowRightDots = rightSiblingIndex < totalPageCount - 2;\n\n    const firstPageIndex = 1;\n    const lastPageIndex = totalPageCount;\n\n    if (!shouldShowLeftDots && shouldShowRightDots) {\n      let leftItemCount = 3 + 2 * siblingCount;\n      let leftRange = range(1, leftItemCount);\n\n      return [...leftRange, DOTS, totalPageCount];\n    }\n\n    if (shouldShowLeftDots && !shouldShowRightDots) {\n      let rightItemCount = 3 + 2 * siblingCount;\n      let rightRange = range(\n        totalPageCount - rightItemCount + 1,\n        totalPageCount\n      );\n      return [firstPageIndex, DOTS, ...rightRange];\n    }\n\n    if (shouldShowLeftDots && shouldShowRightDots) {\n      let middleRange = range(leftSiblingIndex, rightSiblingIndex);\n      return [firstPageIndex, DOTS, ...middleRange, DOTS, lastPageIndex];\n    }\n  }, [totalCount, pageSize, siblingCount, currentPage]);\n\n  return paginationRange;\n};\n"],"mappings":";AAAA,SAASA,OAAO,QAAQ,OAAO;AAE/B,OAAO,MAAMC,IAAI,GAAG,KAAK;AAEzB,MAAMC,KAAK,GAAGA,CAACC,KAAK,EAAEC,GAAG,KAAK;EAC5B,IAAIC,MAAM,GAAGD,GAAG,GAAGD,KAAK,GAAG,CAAC;EAC5B,OAAOG,KAAK,CAACC,IAAI,CAAC;IAAEF;EAAO,CAAC,EAAE,CAACG,CAAC,EAAEC,GAAG,KAAKA,GAAG,GAAGN,KAAK,CAAC;AACxD,CAAC;AAED,OAAO,MAAMO,aAAa,GAAGA,CAAC;EAC5BC,UAAU;EACVC,QAAQ;EACRC,YAAY,GAAG,CAAC;EAChBC;AACF,CAAC,KAAK;EAAAC,EAAA;EACJ,MAAMC,eAAe,GAAGhB,OAAO,CAAC,MAAM;IACpC,MAAMiB,cAAc,GAAGC,IAAI,CAACC,IAAI,CAACR,UAAU,GAAGC,QAAQ,CAAC;;IAEvD;IACA,MAAMQ,gBAAgB,GAAGP,YAAY,GAAG,CAAC;;IAEzC;AACJ;AACA;AACA;IACI,IAAIO,gBAAgB,IAAIH,cAAc,EAAE;MACtC,OAAOf,KAAK,CAAC,CAAC,EAAEe,cAAc,CAAC;IACjC;IAEA,MAAMI,gBAAgB,GAAGH,IAAI,CAACI,GAAG,CAACR,WAAW,GAAGD,YAAY,EAAE,CAAC,CAAC;IAChE,MAAMU,iBAAiB,GAAGL,IAAI,CAACM,GAAG,CAChCV,WAAW,GAAGD,YAAY,EAC1BI,cACF,CAAC;;IAED;AACJ;AACA;AACA;AACA;IACI,MAAMQ,kBAAkB,GAAGJ,gBAAgB,GAAG,CAAC;IAC/C,MAAMK,mBAAmB,GAAGH,iBAAiB,GAAGN,cAAc,GAAG,CAAC;IAElE,MAAMU,cAAc,GAAG,CAAC;IACxB,MAAMC,aAAa,GAAGX,cAAc;IAEpC,IAAI,CAACQ,kBAAkB,IAAIC,mBAAmB,EAAE;MAC9C,IAAIG,aAAa,GAAG,CAAC,GAAG,CAAC,GAAGhB,YAAY;MACxC,IAAIiB,SAAS,GAAG5B,KAAK,CAAC,CAAC,EAAE2B,aAAa,CAAC;MAEvC,OAAO,CAAC,GAAGC,SAAS,EAAE7B,IAAI,EAAEgB,cAAc,CAAC;IAC7C;IAEA,IAAIQ,kBAAkB,IAAI,CAACC,mBAAmB,EAAE;MAC9C,IAAIK,cAAc,GAAG,CAAC,GAAG,CAAC,GAAGlB,YAAY;MACzC,IAAImB,UAAU,GAAG9B,KAAK,CACpBe,cAAc,GAAGc,cAAc,GAAG,CAAC,EACnCd,cACF,CAAC;MACD,OAAO,CAACU,cAAc,EAAE1B,IAAI,EAAE,GAAG+B,UAAU,CAAC;IAC9C;IAEA,IAAIP,kBAAkB,IAAIC,mBAAmB,EAAE;MAC7C,IAAIO,WAAW,GAAG/B,KAAK,CAACmB,gBAAgB,EAAEE,iBAAiB,CAAC;MAC5D,OAAO,CAACI,cAAc,EAAE1B,IAAI,EAAE,GAAGgC,WAAW,EAAEhC,IAAI,EAAE2B,aAAa,CAAC;IACpE;EACF,CAAC,EAAE,CAACjB,UAAU,EAAEC,QAAQ,EAAEC,YAAY,EAAEC,WAAW,CAAC,CAAC;EAErD,OAAOE,eAAe;AACxB,CAAC;AAACD,EAAA,CA5DWL,aAAa"},"metadata":{},"sourceType":"module","externalDependencies":[]}